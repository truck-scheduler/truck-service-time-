
<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<script>
  const password = prompt("ğŸ” Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„Ø¯Ø®ÙˆÙ„:");
  if (password !== "Admin93") {
    alert("âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©!");
    window.location.href = "https://www.google.com";
  }
</script>

<meta charset="utf-8"/>
<title>Ø¬Ø¯ÙˆÙ„ Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø´Ø§Ø­Ù†Ø§Øª</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(to bottom, #f0f4f8, #d9e2ec);
    padding: 20px;
    direction: rtl;
    margin: 0;
  }
  h2 {
    text-align: center;
    margin-bottom: 30px;
    color: #333;
  }
  form {
    background-color: #ffffff;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 30px;
  }
  input, select, button {
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 14px;
    width: 100%;
    box-sizing: border-box;
  }
  button[type="submit"] {
    grid-column: span 2;
    background-color: #4CAF50;
    color: white;
    border: none;
    cursor: pointer;
  }
  button.sort {
    background-color: #007BFF;
    color: white;
    border: none;
    padding: 12px 24px;
    cursor: pointer;
    border-radius: 8px;
    display: block;
    margin: 0 auto 20px;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    background-color: #fff;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0,0,0,0.05);
  }
  th, td {
    border: 1px solid #ddd;
    padding: 10px;
    text-align: center;
    font-size: 14px;
  }
  th {
    background-color: #4CAF50;
    color: white;
  }
  .action-btn {
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 13px;
    cursor: pointer;
    margin: 2px;
  }
  .edit-btn {
    background-color: orange;
    color: white;
    border: none;
  }
  .delete-btn {
    background-color: red;
    color: white;
    border: none;
  }
  @media (max-width: 768px) {
    form {
      grid-template-columns: 1fr;
    }
    button[type="submit"] {
      grid-column: span 1;
    }
  }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script></head>
<body>

<div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 30px;">
  <h2 style="margin: 0;">Ù†Ø¸Ø§Ù… ØªØ±ØªÙŠØ¨ Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø´Ø§Ø­Ù†Ø§Øª</h2>
</div>

<form id="truckForm">
<input id="driver" placeholder="Ø§Ø³Ù… Ø§Ù„Ø³Ø§Ø¦Ù‚" required="" type="text"/>
<input id="truckNumber" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø³ÙŠØ§Ø±Ø©" required="" type="text"/>
<input id="mobile" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„" required="" type="text"/>
<input id="code" placeholder="Ø§Ù„ÙƒÙˆØ¯" required="" type="text"/>
<select id="flourType" required="">
<option value="">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø·Ø­ÙŠÙ†</option>
<option value="Ù†Ø§Ø¯Ø±">Ù†Ø§Ø¯Ø±</option>
<option value="Ø§Ù„Ø§Ø­Ø³Ù†">Ø§Ù„Ø§Ø­Ø³Ù†</option>
<option value="Ø§Ù†ÙˆØ§Ø±">Ø§Ù†ÙˆØ§Ø±</option>
<option value="Ø¨Ø§Ù‡Ø±">Ø¨Ø§Ù‡Ø±</option>
<option value="Ù„Ø·ÙŠÙ">Ù„Ø·ÙŠÙ</option>
<option value="ÙƒÙˆØ±Ø¨Ø´Ø§Ù‚">ÙƒÙˆØ±Ø¨Ø´Ø§Ù‚</option>
<option value="Ø²Ø¹ÙØ±Ø§Ù†">Ø²Ø¹ÙØ±Ø§Ù†</option>
<option value="Ù…Ù†Ø§Ø±">Ù…Ù†Ø§Ø±</option>
<option value="Ø§Ù„Ø§ÙˆÙ„">Ø§Ù„Ø§ÙˆÙ„</option>
<option value="Ø¨Ø§Ø²Ø§Ø±">Ø¨Ø§Ø²Ø§Ø±</option>
<option value="Ø¨ÙŠØª Ø§ØºØ§">Ø¨ÙŠØª Ø§ØºØ§</option>
<option value="ÙŠÙˆØ³Ù">ÙŠÙˆØ³Ù</option>
<option value="ÙƒØ±ÙŠÙ…">ÙƒØ±ÙŠÙ…</option>
<option value="Ø´ÙŠØ®">Ø´ÙŠØ®</option>
<option value="ÙØ±ÙŠÙ…Ø§Ù†">ÙØ±ÙŠÙ…Ø§Ù†</option>
</select>
<select id="grade" required="">
<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¯Ø±Ø¬Ø©</option>
<option value="1">1</option>
<option value="2">2</option>
<option value="3">3</option>
<option value="4">4</option>
<option value="5">5</option>
<option value="Ù†Ø®Ø§Ù„Ù‡">Ù†Ø®Ø§Ù„Ù‡</option>
<option value="Ø´ÙˆØ§Ø¦Ø¨">Ø´ÙˆØ§Ø¦Ø¨</option>
<option value="Ø¨Ø±ØºÙ„">Ø¨Ø±ØºÙ„</option>
<option value="Ù…Ø´ÙƒÙ„">Ù…Ø´ÙƒÙ„</option>
</select>
<input id="arrival" required="" type="datetime-local"/>
<input id="loading" required="" type="datetime-local"/>
<button type="submit">Ø¥Ø¶Ø§ÙØ©</button>
</form>
<button class="sort" onclick="sortByArrival()">ğŸ”ƒ ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ù…ÙˆØ¹Ø¯ Ø§Ù„ÙˆØµÙˆÙ„</button><button class="sort" onclick="exportToExcel()">ğŸ“¤ ØªØµØ¯ÙŠØ± Ø¥Ù„Ù‰ Excel</button>
<table id="truckTable">
<thead>
<tr>
<th>Ø§Ø³Ù… Ø§Ù„Ø³Ø§Ø¦Ù‚</th>
<th>Ø±Ù‚Ù… Ø§Ù„Ø³ÙŠØ§Ø±Ø©</th>
<th>Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„</th>
<th>Ø§Ù„ÙƒÙˆØ¯</th>
<th>Ù†ÙˆØ¹ Ø§Ù„Ø·Ø­ÙŠÙ†</th>
<th>Ù…ÙˆØ¹Ø¯ Ø§Ù„ÙˆØµÙˆÙ„</th>
<th>Ù…ÙˆØ¹Ø¯ Ø¯Ø®ÙˆÙ„ Ø§Ù„ØªØ­Ù…ÙŠÙ„</th>
<th>Ø§Ù„ØªØ­ÙƒÙ…</th>
</tr>
</thead>
<tbody></tbody>
</table>
<script>
  const form = document.getElementById("truckForm");
  const tableBody = document.querySelector("#truckTable tbody");

  let trucks = JSON.parse(localStorage.getItem("trucks")) || [];

  function saveData() {
    localStorage.setItem("trucks", JSON.stringify(trucks));
  }

  function renderTable() {
    tableBody.innerHTML = "";
    trucks.forEach((truck, index) => {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${truck.driver}</td>
        <td>${truck.truckNumber}</td>
        <td>${truck.mobile}</td>
        <td>${truck.code}</td>
        <td>${truck.flourType}</td>
        <td>${truck.arrival}</td>
        <td>${truck.loading}</td>
        <td>
          <button class="action-btn edit-btn" onclick="editTruck(${index})">ØªØ¹Ø¯ÙŠÙ„</button>
          <button class="action-btn delete-btn" onclick="deleteTruck(${index})">Ø­Ø°Ù</button>
        </td>
      `;
      tableBody.appendChild(row);
    });
  }

  form.addEventListener("submit", function(e) {
    e.preventDefault();
    const truck = {
      driver: document.getElementById("driver").value,
      truckNumber: document.getElementById("truckNumber").value,
      mobile: document.getElementById("mobile").value,
      code: document.getElementById("code").value,
      flourType: document.getElementById("flourType").value,
      arrival: document.getElementById("arrival").value,
      loading: document.getElementById("loading").value,
    };
    trucks.push(truck);
    saveData();
    renderTable();
    form.reset();
  });

  function deleteTruck(index) {
    if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø±ØŸ")) {
      trucks.splice(index, 1);
      saveData();
      renderTable();
    }
  }

  function editTruck(index) {
    const truck = trucks[index];
    document.getElementById("driver").value = truck.driver;
    document.getElementById("truckNumber").value = truck.truckNumber;
    document.getElementById("mobile").value = truck.mobile;
    document.getElementById("code").value = truck.code;
    document.getElementById("flourType").value = truck.flourType;
    document.getElementById("arrival").value = truck.arrival;
    document.getElementById("loading").value = truck.loading;

    trucks.splice(index, 1);
    saveData();
    renderTable();
  }

  function sortByArrival() {
    trucks.sort((a, b) => new Date(a.arrival) - new Date(b.arrival));
    saveData();
    renderTable();
  }

  renderTable();


function exportToExcel() {
  const table = document.getElementById("truckTable");
  const wb = XLSX.utils.table_to_book(table, { sheet: "Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø´Ø§Ø­Ù†Ø§Øª" });
  XLSX.writeFile(wb, "Ø¬Ø¯ÙˆÙ„_Ø§Ù„Ø´Ø§Ø­Ù†Ø§Øª.xlsx");
}
</script>
</body>
</html>
